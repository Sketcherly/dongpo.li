---
title: "手写一个配置热加载组件"
date: 2020-05-26T18:08:13+08:00
draft: false
---

之前写了两篇文章：spring标签解析和自定义注解，简单尝试了一下spring给提供的两个扩展功能，但是，真正应该怎么用，怎么用到项目里。
<!--more-->

# 简单说明
之前的两篇文章  
http://dongpo.li/spring/3/  自定义spring标签解析  
http://dongpo.li/spring/4/  基于spring自定义注解

但是都是只是个demo，怎么真正用到项目里呢，这里给个想法，抛砖引玉。

# 功能设计
spring配置都用过，添加一个注解就能使用，简单方便，但是spring配置本身有个问题，每次改完配置都需要重启项目，开发测试还好说，重启一下无所谓，但是线上项目重启发布都是要在业务低峰期，防止造成雪崩，而大多数业务的低峰期都是晚上，所以该配置=加班。好像不太容易让人接受。  
所以加入有办法让配置自动加载，不重启项目的话，实在是一件值得高兴的事情。  
而我们这次就要做这件事，没有概念的童鞋可以先了解一下携程的开源热配组件 ![apollo](https://github.com/ctripcorp/apollo)，当然了，我们是超低配版的，只是学习一下思想。  

# 开始

## 定义注解
首先还是使用我们之前定义的注解 SampleAnnotation，可以参见之前的文章，地址文章开头有。

